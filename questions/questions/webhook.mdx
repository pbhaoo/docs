---
title: '回调问题'
description: '关于商户回调的常见问题'
---


### 为什么一个订单需要回调两次？
1. **第一次回调（刚打包到区块时）**:
   - 当一笔转账交易刚被打包到区块中时，平台会立即进行第一次回调通知。这一状态表明交易已经被矿工打包并传播到区块链网络上，但由于交易只有一个确认，仍然存在因为网络分叉、重组等原因导致交易回滚或无效的可能性。
   - 回调状态可以标记为 **“待确认”（WaitingConfirmation）**，提醒商户此时交易尚不安全，可能会发生变化。

2. **第二次回调（达到区块确认数时）**:
   - 当交易经过设定的区块确认数（例如6个区块确认）后，平台会进行第二次回调通知。达到所需的确认数意味着该交易被足够的后续区块确认，已经基本不可能被回滚或改变，这时交易状态可以被认为是最终确定的。
   - 回调状态可以标记为 **“成功”（Success）** 或 **“失败”（Fail）**。成功表示交易已安全完成并不可逆；失败则表示交易因为某种原因没有成功。

这种两次回调的机制，确保商户能准确掌握交易的初步状态和最终状态，便于做出相应的业务处理。


### 可以自定义回调区块数吗？

用户可以在商户后台自定义回调所需的区块确认数。通过设定区块确认数，用户可以控制平台在交易达到多少个区块确认后进行第一次回调通知，达到多少区块后再发送第二次回调通知。

#### 如何自定义区块确认数

1. **进入商户后台**: 登录到您的商户后台账户。
2. **设置区块确认数**: 在设置页面，找到“区块确认数”选项，输入您希望的确认数值。您可以根据业务需要，选择一个合理的确认数，例如6个区块确认。

   - **低区块确认数**: 如果设定的区块确认数较低，可能会减少交易确认所需时间，但同时增加了交易被回滚的风险。
   - **高区块确认数**: 设定较高的确认数可以降低交易被回滚的可能性，提高交易的安全性，但会延长确认时间。

3. **保存设置**: 在确认选择后，保存您的设置。平台将按照您设定的确认数进行回调。

#### 理解区块确认数机制的重要性

在设定区块确认数时，请务必充分理解其机制：

- 区块确认数是指一个交易被打包到区块链上后，接下来有多少个后续区块确认了这个交易。一般情况下，确认数越高，交易被认为是安全和不可逆的概率就越高。
- 如果不理解区块确认数的机制，建议您保持默认设置，以避免不必要的风险。

#### 默认设置建议

对于大多数用户和场景，默认的区块确认数（例如6个确认）已经是一个安全的选择，既能保证交易的最终确定性，也能在合理时间内完成回调通知。建议在不确定的情况下，使用默认设置即可。
通过理解和合理设定区块确认数，您可以更好地掌握交易回调的时机和风险管理，确保系统安全、稳定地运行。